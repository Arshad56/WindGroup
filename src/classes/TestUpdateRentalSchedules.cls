@isTest()
Class TestUpdateRentalSchedules{
    Static TestMethod Void Test(){
        
    
        Property__c prop = new Property__c();
        prop.Name = 'TestProperty';
        insert prop;
        
        Level__c lvl = new Level__c();
        lvl.Name = 'TestLevel';
        lvl.Property__c = prop.Id;
        insert lvl;
        
        Units__c unt = new Units__c();
        unt.Property__c = prop.Id;
        unt.Level__c = lvl.Id;
        unt.Name = 'TestUnit';
        unt.Active__c = true;
        unt.Start_Date__c = system.today();
        unt.End_Date__c = system.today().addYears(2);
        insert unt;
        
        Account acc = new Account();
        acc.Name = 'TestTenant';
        insert acc;
        
        Lease__c ls = new Lease__c();
        ls.Tenant__c = acc.Id;
        ls.Property__c = prop.Id;
        insert ls;
        
        Lease_Unit__c lu = new Lease_Unit__c();
        lu.Lease_Agreement_No__c = ls.Id;
        lu.Unit__c = unt.Id;
        lu.Lease_Start_Date__c = System.Today()+2;
        lu.Lease_End_Date__c = System.Today()+365;
        insert lu; 
        
        Lease_Charges__c lc0 = new Lease_Charges__c();
        lc0.Name = 'TestRent';
        lc0.Active__c = true;
        lc0.Start_Date__c = system.today();
        lc0.End_Date__c = system.today().addYears(1);
        lc0.Lease_Unit__c = lu.Id;
        lc0.Billing_Frequency__c='Monthly';
        lc0.Billing_Days__c = '5';
        lc0.Frequency__c='Monthly';
        lc0.Type__c='By Area';
        lc0.Generate_Rent_Schedule__c = true;
        lc0.Charge_Rate__c = 5;
        lc0.Charge_Type__c = 'Advance Rental';
        lc0.Currency_Code__c =label.Default_Currency;
        insert lc0;
        Utility.firstRun = true;
        List<Lease_Charges__c> lcList = new List<Lease_Charges__c>();
        Lease_Charges__c lc = new Lease_Charges__c();
        lc.Name = 'TestCharge';
        lc.Active__c = true;
        lc.Start_Date__c = system.today();
        lc.End_Date__c = system.today().addYears(1);
        lc.Lease_Unit__c = lu.Id;
        lc.Billing_Frequency__c='Monthly';
        lc.Billing_Days__c = '5';
        lc.Frequency__c='One Time';
        lc.Type__c='By Area';
        lc.Generate_Rent_Schedule__c = true;
        lc.Charge_Rate__c = 5;
        lc.Charge_Type__c = 'GTO Rent';
        lc.Base_Charge_Type__c = 'Advance Rental';
        lc.Due_Month_Formula__c = '-1';
        lc.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc);
        
        Lease_Charges__c lc1 = new Lease_Charges__c();
        lc1.Name = 'TestCharge';
        lc1.Active__c = true;
        lc1.Start_Date__c = system.today();
        lc1.End_Date__c = system.today().addYears(1);
        lc1.Lease_Unit__c = lu.Id;
        lc1.Billing_Frequency__c='Monthly';
        lc1.Frequency__c='Monthly';
        lc1.Billing_Days__c = '5';
        lc1.Type__c='By Area';
        lc1.Generate_Rent_Schedule__c = true;
        lc1.Charge_Rate__c = 5;
        lc1.Base_Charge_Type__c = 'Advance Rental';
        lc1.Due_Month_Formula__c = '-1';
        lc1.Currency_Code__c = label.Default_Currency;
        lcList.add(lc1);
        
        Lease_Charges__c lc2 = new Lease_Charges__c();
        lc2.Name = 'TestCharge';
        lc2.Active__c = true;
        lc2.Start_Date__c = system.today();
        lc2.End_Date__c = system.today().addYears(1);
        lc2.Lease_Unit__c = lu.Id;
        lc2.Billing_Frequency__c='Monthly';
        lc2.Frequency__c='Quarterly';
        lc2.Billing_Days__c = '5';
        lc2.Type__c='By Area';
        lc2.Generate_Rent_Schedule__c = true;
        lc2.Charge_Rate__c = 5;
        lc2.Due_Month_Formula__c = '-1';
        lc2.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc2);
        
        Lease_Charges__c lc3 = new Lease_Charges__c();
        lc3.Name = 'TestCharge';
        lc3.Active__c = true;
        lc3.Start_Date__c = system.today();
        lc3.End_Date__c = system.today().addYears(1);
        lc3.Lease_Unit__c = lu.Id;
        lc3.Billing_Frequency__c='Monthly';
        lc3.Frequency__c='Yearly';
        lc3.Billing_Days__c = '5';
        lc3.Type__c='By Area';
        lc3.Generate_Rent_Schedule__c = true;
        lc3.Charge_Rate__c = 5;
        lc3.Due_Month_Formula__c = '-1';
        lc3.Currency_Code__c = label.Default_Currency;
        lcList.add(lc3);
        
        Lease_Charges__c lc4 = new Lease_Charges__c();
        lc4.Name = 'TestCharge';
        lc4.Active__c = true;
        lc4.Start_Date__c = system.today();
        lc4.End_Date__c = system.today().addYears(1);
        lc4.Lease_Unit__c = lu.Id;
        lc4.Billing_Frequency__c='Monthly';
        lc4.Frequency__c='Half-Yearly';
        lc4.Billing_Days__c = '5';
        lc4.Type__c='By Area';
        lc4.Generate_Rent_Schedule__c = true;
        lc4.Charge_Rate__c = 5;
        lc4.Due_Month_Formula__c = '-1';
        lc4.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc4);
        
        test.startTest();
        insert lcList;
        test.stopTest();
        
    }
    
    Static TestMethod Void Test1(){
        
    
        Property__c prop = new Property__c();
        prop.Name = 'TestProperty';
        insert prop;
        
        Level__c lvl = new Level__c();
        lvl.Name = 'TestLevel';
        lvl.Property__c = prop.Id;
        insert lvl;
        
        Units__c unt = new Units__c();
        unt.Property__c = prop.Id;
        unt.Level__c = lvl.Id;
        unt.Name = 'TestUnit';
        unt.Active__c = true;
        unt.Start_Date__c = system.today();
        unt.End_Date__c = system.today().addYears(2);
        insert unt;
        
        Account acc = new Account();
        acc.Name = 'TestTenant';
        insert acc;
        
        Lease__c ls = new Lease__c();
        ls.Tenant__c = acc.Id;
        ls.Property__c = prop.Id;
        insert ls;
        
        Lease_Unit__c lu = new Lease_Unit__c();
        lu.Lease_Agreement_No__c = ls.Id;
        lu.Unit__c = unt.Id;
        lu.Lease_Start_Date__c = System.Today()+2;
        lu.Lease_End_Date__c = System.Today()+365;
        insert lu;
        
        Lease_Charges__c lc0 = new Lease_Charges__c();
        lc0.Name = 'TestRent';
        lc0.Active__c = true;
        lc0.Start_Date__c = system.today();
        lc0.End_Date__c = system.today().addYears(1);
        lc0.Lease_Unit__c = lu.Id;
        lc0.Billing_Frequency__c='Monthly';
        lc0.Billing_Days__c = '31';
        lc0.Frequency__c='Monthly';
        lc0.Type__c='By Area';
        lc0.Generate_Rent_Schedule__c = true;
        lc0.Charge_Rate__c = 5;
        lc0.Charge_Type__c = 'Advance Rental';
        lc0.Currency_Code__c =label.Default_Currency;
        insert lc0;
        Utility.firstRun = true;
        List<Electric_Meter__c> elMetList = new List<Electric_Meter__c>();
        
        Electric_Meter__c em1 = new Electric_Meter__c();
        em1.Meter_No__c = 'M1';
        em1.Unit__c = unt.Id;
        em1.Meter_Type__c = 'Gov Meter';
        elMetList.add(em1);
        
        Electric_Meter__c em2 = new Electric_Meter__c();
        em2.Meter_No__c = 'M2';
        em2.Unit__c = unt.Id;
        em2.Meter_Type__c = 'Sub Meter';
        elMetList.add(em2);
        
        Electric_Meter__c em3 = new Electric_Meter__c();
        em3.Meter_No__c = 'M3';
        em3.Unit__c = unt.Id;
        em3.Meter_Type__c = 'Generator';
        elMetList.add(em3);
        
        insert elMetList;
        
        List<Lease_Charges__c> lcList = new List<Lease_Charges__c>();
        Lease_Charges__c lc = new Lease_Charges__c();
        lc.Name = 'TestCharge';
        lc.Active__c = true;
        lc.Start_Date__c = system.today();
        lc.End_Date__c = system.today().addYears(1);
        lc.Lease_Unit__c = lu.Id;
        lc.Billing_Frequency__c='Monthly';
        lc.Billing_Days__c = '31';
        lc.Frequency__c='One Time';
        lc.Type__c='By Area';
        lc.Generate_Rent_Schedule__c = true;
        lc.Charge_Rate__c = 5;
        lc.Charge_Type__c = 'Generator';
        lc.Base_Charge_Type__c = 'Advance Rental';
        lc.Due_Month_Formula__c = '-1';
        lc.Currency_Code__c = label.Default_Currency;
        lcList.add(lc);
        
        
        
        
        Lease_Charges__c lc1 = new Lease_Charges__c();
        lc1.Name = 'TestCharge';
        lc1.Active__c = true;
        lc1.Start_Date__c = system.today();
        lc1.End_Date__c = system.today().addYears(1);
        lc1.Lease_Unit__c = lu.Id;
        lc1.Billing_Frequency__c='Monthly';
        lc1.Frequency__c='Monthly';
        lc1.Billing_Days__c = '31';
        lc1.Type__c='By Area';
        lc1.Generate_Rent_Schedule__c = true;
        lc1.Charge_Rate__c = 5;
        lc1.Charge_Type__c = 'Generator';
        lc1.Multiple_Rental_Schedule__c = true;
        lc1.Billing_Terms__c = 'Non-prorate';
        lc1.Due_Month_Formula__c = '-1';
        lc1.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc1);
        
        Lease_Charges__c lc11 = new Lease_Charges__c();
        lc11.Name = 'TestCharge';
        lc11.Active__c = true;
        lc11.Start_Date__c = system.today();
        lc11.End_Date__c = system.today().addYears(1);
        lc11.Lease_Unit__c = lu.Id;
        lc11.Billing_Frequency__c='Monthly';
        lc11.Frequency__c='One Time';
        lc11.Billing_Days__c = '31';
        lc11.Type__c='By Area';
        lc11.Generate_Rent_Schedule__c = true;
        lc11.Charge_Rate__c = 5;
        lc11.Charge_Type__c = 'Generator';
        lc11.Multiple_Rental_Schedule__c = true;
        lc11.Billing_Terms__c = 'Non-prorate';
        lc11.Due_Month_Formula__c = '-1';
        lc11.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc11);
        
        Lease_Charges__c lc12 = new Lease_Charges__c();
        lc12.Name = 'TestCharge';
        lc12.Active__c = true;
        lc12.Start_Date__c = system.today();
        lc12.End_Date__c = system.today().addYears(1);
        lc12.Lease_Unit__c = lu.Id;
        lc12.Billing_Frequency__c='Monthly';
        lc12.Frequency__c='Quarterly';
        lc12.Billing_Days__c = '31';
        lc12.Type__c='By Area';
        lc12.Generate_Rent_Schedule__c = true;
        lc12.Charge_Rate__c = 5;
        lc12.Charge_Type__c = 'Generator';
        lc12.Multiple_Rental_Schedule__c = true;
        lc12.Billing_Terms__c = 'Non-prorate';
        lc12.Due_Month_Formula__c = '-1';
        lc12.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc12);
        
        Lease_Charges__c lc13 = new Lease_Charges__c();
        lc13.Name = 'TestCharge';
        lc13.Active__c = true;
        lc13.Start_Date__c = system.today();
        lc13.End_Date__c = system.today().addYears(1);
        lc13.Lease_Unit__c = lu.Id;
        lc13.Billing_Frequency__c='Monthly';
        lc13.Frequency__c='Half-Yearly';
        lc13.Billing_Days__c = '31';
        lc13.Type__c='By Area';
        lc13.Generate_Rent_Schedule__c = true;
        lc13.Charge_Rate__c = 5;
        lc13.Charge_Type__c = 'Generator';
        lc13.Multiple_Rental_Schedule__c = true;
        lc13.Billing_Terms__c = 'Non-prorate';
        lc13.Due_Month_Formula__c = '-1';
        lc13.Currency_Code__c = label.Default_Currency;
        lcList.add(lc13);
        
        Lease_Charges__c lc14 = new Lease_Charges__c();
        lc14.Name = 'TestCharge';
        lc14.Active__c = true;
        lc14.Start_Date__c = system.today();
        lc14.End_Date__c = system.today().addYears(1);
        lc14.Lease_Unit__c = lu.Id;
        lc14.Billing_Frequency__c='Monthly';
        lc14.Frequency__c='Yearly';
        lc14.Billing_Days__c = '31';
        lc14.Type__c='By Area';
        lc14.Generate_Rent_Schedule__c = true;
        lc14.Charge_Rate__c = 5;
        lc14.Charge_Type__c = 'Generator';
        lc14.Multiple_Rental_Schedule__c = true;
        lc14.Billing_Terms__c = 'Non-prorate';
        lc14.Due_Month_Formula__c = '-1';
        lc14.Currency_Code__c = label.Default_Currency;
        lcList.add(lc14);
        
        Lease_Charges__c lc2 = new Lease_Charges__c();
        lc2.Name = 'TestCharge';
        lc2.Active__c = true;
        lc2.Start_Date__c = system.today();
        lc2.End_Date__c = system.today().addYears(1);
        lc2.Lease_Unit__c = lu.Id;
        lc2.Billing_Frequency__c='Monthly';
        lc2.Frequency__c='Quarterly';
        lc2.Billing_Days__c = '31';
        lc2.Type__c='Meter Units';
        lc2.Generate_Rent_Schedule__c = true;
        lc2.Charge_Rate__c = 5;
        lc2.Charge_Type__c = 'Gov Meter';
        lc2.Billing_Terms__c = 'Non-prorate';
        lc2.Base_Charge_Type__c = 'Advance Rental';
        lc2.Due_Month_Formula__c = '-1';
        lc2.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc2);
        
        Lease_Charges__c lc221 = new Lease_Charges__c();
        lc221.Name = 'TestCharge';
        lc221.Active__c = true;
        lc221.Start_Date__c = system.today();
        lc221.End_Date__c = system.today().addYears(1);
        lc221.Lease_Unit__c = lu.Id;
        lc221.Billing_Frequency__c='Monthly';
        lc221.Frequency__c='Quarterly';
        lc221.Billing_Days__c = '31';
        lc221.Type__c='Meter Units';
        lc221.Generate_Rent_Schedule__c = true;
        lc221.Charge_Rate__c = 5;
        lc221.Charge_Type__c = 'Gov Meter';
        lc221.Billing_Terms__c = 'Prorate';
        lc221.Due_Month_Formula__c = '-1';
        lc221.Currency_Code__c = label.Default_Currency;
        lcList.add(lc221);
        
        Lease_Charges__c lc2211 = new Lease_Charges__c();
        lc2211.Name = 'TestCharge';
        lc2211.Active__c = true;
        lc2211.Start_Date__c = system.today();
        lc2211.End_Date__c = system.today().addYears(1);
        lc2211.Lease_Unit__c = lu.Id;
        lc2211.Billing_Frequency__c='Monthly';
        lc2211.Frequency__c='Quarterly';
        lc2211.Billing_Days__c = '31';
        lc2211.Type__c='Meter Units';
        lc2211.Generate_Rent_Schedule__c = true;
        lc2211.Charge_Rate__c = 5;
        lc2211.Charge_Type__c = 'Gov Meter';
        lc2211.Billing_Terms__c = 'Prorate';
        lc2211.Due_Month_Formula__c = '-1';
        lc2211.Currency_Code__c = label.Default_Currency;
        lc2211.Charge_Start_Day__c = '25';
        lcList.add(lc2211);
        
        Lease_Charges__c lc222 = new Lease_Charges__c();
        lc222.Name = 'TestCharge';
        lc222.Active__c = true;
        lc222.Start_Date__c = system.today();
        lc222.End_Date__c = system.today().addYears(1);
        lc222.Lease_Unit__c = lu.Id;
        lc222.Billing_Frequency__c='Monthly';
        lc222.Frequency__c='Monthly';
        lc222.Billing_Days__c = '31';
        lc222.Type__c='Meter Units';
        lc222.Generate_Rent_Schedule__c = true;
        lc222.Charge_Rate__c = 5;
        lc222.Charge_Type__c = 'Gov Meter';
        lc222.Billing_Terms__c = 'Prorate';
        lc222.Due_Month_Formula__c = '-1';
        lc222.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc222);
        
        Lease_Charges__c lc223 = new Lease_Charges__c();
        lc223.Name = 'TestCharge';
        lc223.Active__c = true;
        lc223.Start_Date__c = system.today();
        lc223.End_Date__c = system.today().addYears(1);
        lc223.Lease_Unit__c = lu.Id;
        lc223.Billing_Frequency__c='Monthly';
        lc223.Frequency__c='One Time';
        lc223.Billing_Days__c = '31';
        lc223.Type__c='Meter Units';
        lc223.Generate_Rent_Schedule__c = true;
        lc223.Charge_Rate__c = 5;
        lc223.Charge_Type__c = 'Gov Meter';
        lc223.Billing_Terms__c = 'Prorate';
        lc223.Due_Month_Formula__c = '-1';
        lc223.Currency_Code__c = label.Default_Currency;
        lcList.add(lc223);
        
        Lease_Charges__c lc224 = new Lease_Charges__c();
        lc224.Name = 'TestCharge';
        lc224.Active__c = true;
        lc224.Start_Date__c = system.today();
        lc224.End_Date__c = system.today().addYears(1);
        lc224.Lease_Unit__c = lu.Id;
        lc224.Billing_Frequency__c='Monthly';
        lc224.Frequency__c='Half-Yearly';
        lc224.Billing_Days__c = '31';
        lc224.Type__c='Meter Units';
        lc224.Generate_Rent_Schedule__c = true;
        lc224.Charge_Rate__c = 5;
        lc224.Charge_Type__c = 'Gov Meter';
        lc224.Billing_Terms__c = 'Prorate';
        lc224.Due_Month_Formula__c = '-1';
        lc224.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc224);
        
        Lease_Charges__c lc225 = new Lease_Charges__c();
        lc225.Name = 'TestCharge';
        lc225.Active__c = true;
        lc225.Start_Date__c = system.today();
        lc225.End_Date__c = system.today().addYears(1);
        lc225.Lease_Unit__c = lu.Id;
        lc225.Billing_Frequency__c='Monthly';
        lc225.Frequency__c='Yearly';
        lc225.Billing_Days__c = '31';
        lc225.Type__c='Meter Units';
        lc225.Generate_Rent_Schedule__c = true;
        lc225.Charge_Rate__c = 5;
        lc225.Charge_Type__c = 'Gov Meter';
        lc225.Billing_Terms__c = 'Prorate';
        lc225.Due_Month_Formula__c = '-1';
        lc225.Currency_Code__c = label.Default_Currency;
        lcList.add(lc225);
        
        Lease_Charges__c lc2251 = new Lease_Charges__c();
        lc2251.Name = 'TestCharge';
        lc2251.Active__c = true;
        lc2251.Start_Date__c = system.today();
        lc2251.End_Date__c = system.today().addYears(1);
        lc2251.Lease_Unit__c = lu.Id;
        lc2251.Billing_Frequency__c='Monthly';
        lc2251.Frequency__c='Yearly';
        lc2251.Billing_Days__c = '31';
        lc2251.Type__c='Meter Units';
        lc2251.Generate_Rent_Schedule__c = true;
        lc2251.Charge_Rate__c = 5;
        lc2251.Charge_Type__c = 'Gov Meter';
        lc2251.Billing_Terms__c = 'Prorate';
        lc2251.Due_Month_Formula__c = '-1';
        lc2251.Currency_Code__c = label.Default_Currency;
        lc2251.Charge_Start_Day__c = '5';
        lcList.add(lc2251);
        
        Lease_Charges__c lc21 = new Lease_Charges__c();
        lc21.Name = 'TestCharge';
        lc21.Active__c = true;
        lc21.Start_Date__c = system.today();
        lc21.End_Date__c = system.today().addYears(1);
        lc21.Lease_Unit__c = lu.Id;
        lc21.Billing_Frequency__c='Monthly';
        lc21.Frequency__c='Monthly';
        lc21.Billing_Days__c = '31';
        lc21.Type__c='Meter Units';
        lc21.Generate_Rent_Schedule__c = true;
        lc21.Charge_Rate__c = 5;
        lc21.Charge_Type__c = 'Gov Meter';
        lc21.Billing_Terms__c = 'Non-prorate';
        lc21.Base_Charge_Type__c = 'Advance Rental';
        lc21.Due_Month_Formula__c = '-1';
        lc21.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc21);
        
        Lease_Charges__c lc22 = new Lease_Charges__c();
        lc22.Name = 'TestCharge';
        lc22.Active__c = true;
        lc22.Start_Date__c = system.today();
        lc22.End_Date__c = system.today().addYears(1);
        lc22.Lease_Unit__c = lu.Id;
        lc22.Billing_Frequency__c='Monthly';
        lc22.Frequency__c='One Time';
        lc22.Billing_Days__c = '31';
        lc22.Type__c='Meter Units';
        lc22.Generate_Rent_Schedule__c = true;
        lc22.Charge_Rate__c = 5;
        lc22.Charge_Type__c = 'Gov Meter';
        lc22.Billing_Terms__c = 'Non-prorate';
        lc22.Base_Charge_Type__c = 'Advance Rental';
        lc22.Due_Month_Formula__c = '-1';
        lc22.Currency_Code__c = label.Default_Currency;
        lcList.add(lc22);
        
        Lease_Charges__c lc23 = new Lease_Charges__c();
        lc23.Name = 'TestCharge';
        lc23.Active__c = true;
        lc23.Start_Date__c = system.today();
        lc23.End_Date__c = system.today().addYears(1);
        lc23.Lease_Unit__c = lu.Id;
        lc23.Billing_Frequency__c='Monthly';
        lc23.Frequency__c='Half-Yearly';
        lc23.Billing_Days__c = '31';
        lc23.Type__c='Meter Units';
        lc23.Generate_Rent_Schedule__c = true;
        lc23.Charge_Rate__c = 5;
        lc23.Charge_Type__c = 'Gov Meter';
        lc23.Billing_Terms__c = 'Non-prorate';
        lc23.Base_Charge_Type__c = 'Advance Rental';
        lc23.Due_Month_Formula__c = '-1';
        lc23.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc23);
        
        Lease_Charges__c lc24 = new Lease_Charges__c();
        lc24.Name = 'TestCharge';
        lc24.Active__c = true;
        lc24.Start_Date__c = system.today();
        lc24.End_Date__c = system.today().addYears(1);
        lc24.Lease_Unit__c = lu.Id;
        lc24.Billing_Frequency__c='Monthly';
        lc24.Frequency__c='Yearly';
        lc24.Billing_Days__c = '31';
        lc24.Type__c='Meter Units';
        lc24.Generate_Rent_Schedule__c = true;
        lc24.Charge_Rate__c = 5;
        lc24.Charge_Type__c = 'Gov Meter';
        lc24.Billing_Terms__c = 'Non-prorate';
        lc24.Base_Charge_Type__c = 'Advance Rental';
        lc24.Due_Month_Formula__c = '-1';
        lc24.Currency_Code__c = label.Default_Currency;
        lcList.add(lc24);
        
        Lease_Charges__c lc25 = new Lease_Charges__c();
        lc25.Name = 'TestCharge';
        lc25.Active__c = true;
        lc25.Start_Date__c = system.today();
        lc25.End_Date__c = system.today().addYears(1);
        lc25.Lease_Unit__c = lu.Id;
        lc25.Billing_Frequency__c='Monthly';
        lc25.Frequency__c='Yearly';
        lc25.Billing_Days__c = '31';
        lc25.Type__c='Meter Units';
        lc25.Generate_Rent_Schedule__c = true;
        lc25.Charge_Rate__c = 5;
        lc25.Charge_Type__c = 'Gov Meter';
        lc25.Billing_Terms__c = 'Non-prorate';
        lc25.Due_Month_Formula__c = '-1';
        lc25.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc25);
        
        Lease_Charges__c lc26 = new Lease_Charges__c();
        lc26.Name = 'TestCharge';
        lc26.Active__c = true;
        lc26.Start_Date__c = system.today();
        lc26.End_Date__c = system.today().addYears(1);
        lc26.Lease_Unit__c = lu.Id;
        lc26.Billing_Frequency__c='Monthly';
        lc26.Frequency__c='Monthly';
        lc26.Billing_Days__c = '31';
        lc26.Type__c='Meter Units';
        lc26.Generate_Rent_Schedule__c = true;
        lc26.Charge_Rate__c = 5;
        lc26.Charge_Type__c = 'Gov Meter';
        lc26.Billing_Terms__c = 'Non-prorate';
        lc26.Due_Month_Formula__c = '-1';
        lc26.Currency_Code__c = label.Default_Currency;
        lcList.add(lc26);
        
        Lease_Charges__c lc27 = new Lease_Charges__c();
        lc27.Name = 'TestCharge';
        lc27.Active__c = true;
        lc27.Start_Date__c = system.today();
        lc27.End_Date__c = system.today().addYears(1);
        lc27.Lease_Unit__c = lu.Id;
        lc27.Billing_Frequency__c='Monthly';
        lc27.Frequency__c='One Time';
        lc27.Billing_Days__c = '31';
        lc27.Type__c='Meter Units';
        lc27.Generate_Rent_Schedule__c = true;
        lc27.Charge_Rate__c = 5;
        lc27.Charge_Type__c = 'Gov Meter';
        lc27.Billing_Terms__c = 'Non-prorate';
        lc27.Due_Month_Formula__c = '-1';
        lc27.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc27);
        
        Lease_Charges__c lc28 = new Lease_Charges__c();
        lc28.Name = 'TestCharge';
        lc28.Active__c = true;
        lc28.Start_Date__c = system.today();
        lc28.End_Date__c = system.today().addYears(1);
        lc28.Lease_Unit__c = lu.Id;
        lc28.Billing_Frequency__c='Monthly';
        lc28.Frequency__c='Quarterly';
        lc28.Billing_Days__c = '31';
        lc28.Type__c='Meter Units';
        lc28.Generate_Rent_Schedule__c = true;
        lc28.Charge_Rate__c = 5;
        lc28.Charge_Type__c = 'Gov Meter';
        lc28.Billing_Terms__c = 'Non-prorate';
        lc28.Due_Month_Formula__c = '-1';
        lc28.Currency_Code__c = label.Default_Currency;
        lcList.add(lc28);
        
        Lease_Charges__c lc29 = new Lease_Charges__c();
        lc29.Name = 'TestCharge';
        lc29.Active__c = true;
        lc29.Start_Date__c = system.today();
        lc29.End_Date__c = system.today().addYears(1);
        lc29.Lease_Unit__c = lu.Id;
        lc29.Billing_Frequency__c='Monthly';
        lc29.Frequency__c='Half-Yearly';
        lc29.Billing_Days__c = '31';
        lc29.Type__c='Meter Units';
        lc29.Generate_Rent_Schedule__c = true;
        lc29.Charge_Rate__c = 5;
        lc29.Charge_Type__c = 'Gov Meter';
        lc29.Billing_Terms__c = 'Non-prorate';
        lc29.Due_Month_Formula__c = '-1';
        lc29.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc29);
        
        Lease_Charges__c lc3 = new Lease_Charges__c();
        lc3.Name = 'TestCharge';
        lc3.Active__c = true;
        lc3.Start_Date__c = system.today();
        lc3.End_Date__c = system.today().addYears(1);
        lc3.Lease_Unit__c = lu.Id;
        lc3.Billing_Frequency__c='Monthly';
        lc3.Frequency__c='Yearly';
        lc3.Billing_Days__c = '31';
        lc3.Type__c='Meter Units';
        lc3.Generate_Rent_Schedule__c = true;
        lc3.Charge_Rate__c = 5;
        lc3.Charge_Type__c = 'Sub Meter';
        lc3.Multiple_Rental_Schedule__c = true;
        lc3.Base_Charge_Type__c = 'Advance Rental';
        lc3.Due_Month_Formula__c = '-1';
        lc3.Billing_Terms__c = 'Non-prorate';
        lc3.Currency_Code__c = label.Default_Currency;
        lcList.add(lc3);
        
        Lease_Charges__c lc31 = new Lease_Charges__c();
        lc31.Name = 'TestCharge';
        lc31.Active__c = true;
        lc31.Start_Date__c = system.today();
        lc31.End_Date__c = system.today().addYears(1);
        lc31.Lease_Unit__c = lu.Id;
        lc31.Billing_Frequency__c='Monthly';
        lc31.Frequency__c='Monthly';
        lc31.Billing_Days__c = '31';
        lc31.Type__c='Meter Units';
        lc31.Generate_Rent_Schedule__c = true;
        lc31.Charge_Rate__c = 5;
        lc31.Charge_Type__c = 'Sub Meter';
        lc31.Multiple_Rental_Schedule__c = true;
        lc31.Base_Charge_Type__c = 'Advance Rental';
        lc31.Due_Month_Formula__c = '-1';
        lc31.Billing_Terms__c = 'Non-prorate';
        lc31.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc31);
        
        Lease_Charges__c lc32 = new Lease_Charges__c();
        lc32.Name = 'TestCharge';
        lc32.Active__c = true;
        lc32.Start_Date__c = system.today();
        lc32.End_Date__c = system.today().addYears(1);
        lc32.Lease_Unit__c = lu.Id;
        lc32.Billing_Frequency__c='Monthly';
        lc32.Frequency__c='One Time';
        lc32.Billing_Days__c = '31';
        lc32.Type__c='Meter Units';
        lc32.Generate_Rent_Schedule__c = true;
        lc32.Charge_Rate__c = 5;
        lc32.Charge_Type__c = 'Sub Meter';
        lc32.Multiple_Rental_Schedule__c = true;
        lc32.Base_Charge_Type__c = 'Advance Rental';
        lc32.Due_Month_Formula__c = '-1';
        lc32.Billing_Terms__c = 'Non-prorate';
        lc32.Currency_Code__c = label.Default_Currency;
        lcList.add(lc32);
        
        Lease_Charges__c lc33 = new Lease_Charges__c();
        lc33.Name = 'TestCharge';
        lc33.Active__c = true;
        lc33.Start_Date__c = system.today();
        lc33.End_Date__c = system.today().addYears(1);
        lc33.Lease_Unit__c = lu.Id;
        lc33.Billing_Frequency__c='Monthly';
        lc33.Frequency__c='Quarterly';
        lc33.Billing_Days__c = '31';
        lc33.Type__c='Meter Units';
        lc33.Generate_Rent_Schedule__c = true;
        lc33.Charge_Rate__c = 5;
        lc33.Charge_Type__c = 'Sub Meter';
        lc33.Multiple_Rental_Schedule__c = true;
        lc33.Base_Charge_Type__c = 'Advance Rental';
        lc33.Due_Month_Formula__c = '-1';
        lc33.Billing_Terms__c = 'Non-prorate';
        lc33.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc33);
        
        Lease_Charges__c lc34 = new Lease_Charges__c();
        lc34.Name = 'TestCharge';
        lc34.Active__c = true;
        lc34.Start_Date__c = system.today();
        lc34.End_Date__c = system.today().addYears(1);
        lc34.Lease_Unit__c = lu.Id;
        lc34.Billing_Frequency__c='Monthly';
        lc34.Frequency__c='Half-Yearly';
        lc34.Billing_Days__c = '31';
        lc34.Type__c='By Area';
        lc34.Generate_Rent_Schedule__c = true;
        lc34.Charge_Rate__c = 5;
        lc34.Charge_Type__c = 'Sub Meter';
        lc34.Multiple_Rental_Schedule__c = true;
        lc34.Base_Charge_Type__c = 'Advance Rental';
        lc34.Due_Month_Formula__c = '-1';
        lc34.Billing_Terms__c = 'Non-prorate';
        lc34.Currency_Code__c = label.Default_Currency;
        lcList.add(lc34);
        
        Lease_Charges__c lc4 = new Lease_Charges__c();
        lc4.Name = 'TestCharge';
        lc4.Active__c = true;
        lc4.Start_Date__c = system.today();
        lc4.End_Date__c = system.today().addYears(1);
        lc4.Lease_Unit__c = lu.Id;
        lc4.Billing_Frequency__c='Monthly';
        lc4.Frequency__c='Half-Yearly';
        lc4.Billing_Days__c = '31';
        lc4.Type__c='By Area';
        lc4.Generate_Rent_Schedule__c = true;
        lc4.Charge_Rate__c = 5;
        lc4.Charge_Type__c = 'Sub Meter';
        lc4.Multiple_Rental_Schedule__c = true;
        lc4.Due_Month_Formula__c = '-1';
        lc4.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc4);
        
        Lease_Charges__c lc41 = new Lease_Charges__c();
        lc41.Name = 'TestCharge';
        lc41.Active__c = true;
        lc41.Start_Date__c = system.today();
        lc41.End_Date__c = system.today().addYears(1);
        lc41.Lease_Unit__c = lu.Id;
        lc41.Billing_Frequency__c='Monthly';
        lc41.Frequency__c='Monthly';
        lc41.Billing_Days__c = '31';
        lc41.Type__c='Meter Units';
        lc41.Generate_Rent_Schedule__c = true;
        lc41.Charge_Rate__c = 5;
        lc41.Charge_Type__c = 'Sub Meter';
        lc41.Multiple_Rental_Schedule__c = true;
        lc41.Due_Month_Formula__c = '-1';
        lc41.Currency_Code__c = label.Default_Currency;
        lcList.add(lc41);
        
        Lease_Charges__c lc42 = new Lease_Charges__c();
        lc42.Name = 'TestCharge';
        lc42.Active__c = true;
        lc42.Start_Date__c = system.today();
        lc42.End_Date__c = system.today().addYears(1);
        lc42.Lease_Unit__c = lu.Id;
        lc42.Billing_Frequency__c='Monthly';
        lc42.Frequency__c='One Time';
        lc42.Billing_Days__c = '31';
        lc42.Type__c='Meter Units';
        lc42.Generate_Rent_Schedule__c = true;
        lc42.Charge_Rate__c = 5;
        lc42.Charge_Type__c = 'Sub Meter';
        lc42.Multiple_Rental_Schedule__c = true;
        lc42.Due_Month_Formula__c = '-1';
        lc42.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc42);
        
        Lease_Charges__c lc43 = new Lease_Charges__c();
        lc43.Name = 'TestCharge';
        lc43.Active__c = true;
        lc43.Start_Date__c = system.today();
        lc43.End_Date__c = system.today().addYears(1);
        lc43.Lease_Unit__c = lu.Id;
        lc43.Billing_Frequency__c='Monthly';
        lc43.Frequency__c='Quarterly';
        lc43.Billing_Days__c = '31';
        lc43.Type__c='Meter Units';
        lc43.Generate_Rent_Schedule__c = true;
        lc43.Charge_Rate__c = 5;
        lc43.Charge_Type__c = 'Sub Meter';
        lc43.Multiple_Rental_Schedule__c = true;
        lc43.Due_Month_Formula__c = '-1';
        lc43.Currency_Code__c = label.Default_Currency;
        lcList.add(lc43);
        
        Lease_Charges__c lc44 = new Lease_Charges__c();
        lc44.Name = 'TestCharge';
        lc44.Active__c = true;
        lc44.Start_Date__c = system.today();
        lc44.End_Date__c = system.today().addYears(1);
        lc44.Lease_Unit__c = lu.Id;
        lc44.Billing_Frequency__c='Monthly';
        lc44.Frequency__c='Yearly';
        lc44.Billing_Days__c = '31';
        lc44.Type__c='Meter Units';
        lc44.Generate_Rent_Schedule__c = true;
        lc44.Charge_Rate__c = 5;
        lc44.Charge_Type__c = 'Sub Meter';
        lc44.Multiple_Rental_Schedule__c = true;
        lc44.Due_Month_Formula__c = '-1';
        lc44.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc44);
        
        Lease_Charges__c lc5 = new Lease_Charges__c();
        lc5.Name = 'TestCharge';
        lc5.Active__c = true;
        lc5.Start_Date__c = system.today();
        lc5.End_Date__c = system.today().addYears(1);
        lc5.Lease_Unit__c = lu.Id;
        lc5.Billing_Frequency__c='Monthly';
        lc5.Billing_Days__c = '31';
        lc5.Frequency__c='One Time';
        lc5.Type__c='Meter Units';
        lc5.Generate_Rent_Schedule__c = true;
        lc5.Charge_Rate__c = 5;
        lc5.Charge_Type__c = 'Generator';
        lc5.Multiple_Rental_Schedule__c = true;
        lc5.Base_Charge_Type__c = 'Advance Rental';
        lc5.Due_Month_Formula__c = '-1';
        lc5.Currency_Code__c = label.Default_Currency;
        lcList.add(lc5);
        
        Lease_Charges__c lc51 = new Lease_Charges__c();
        lc51.Name = 'TestCharge';
        lc51.Active__c = true;
        lc51.Start_Date__c = system.today();
        lc51.End_Date__c = system.today().addYears(1);
        lc51.Lease_Unit__c = lu.Id;
        lc51.Billing_Frequency__c='Monthly';
        lc51.Billing_Days__c = '31';
        lc51.Frequency__c='Monthly';
        lc51.Type__c='Meter Units';
        lc51.Generate_Rent_Schedule__c = true;
        lc51.Charge_Rate__c = 5;
        lc51.Charge_Type__c = 'Generator';
        lc51.Multiple_Rental_Schedule__c = true;
        lc51.Base_Charge_Type__c = 'Advance Rental';
        lc51.Due_Month_Formula__c = '-1';
        lc51.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc51);
        
        Lease_Charges__c lc52 = new Lease_Charges__c();
        lc52.Name = 'TestCharge';
        lc52.Active__c = true;
        lc52.Start_Date__c = system.today();
        lc52.End_Date__c = system.today().addYears(1);
        lc52.Lease_Unit__c = lu.Id;
        lc52.Billing_Frequency__c='Monthly';
        lc52.Billing_Days__c = '31';
        lc52.Frequency__c='Quarterly';
        lc52.Type__c='Meter Units';
        lc52.Generate_Rent_Schedule__c = true;
        lc52.Charge_Rate__c = 5;
        lc52.Charge_Type__c = 'Generator';
        lc52.Multiple_Rental_Schedule__c = true;
        lc52.Base_Charge_Type__c = 'Advance Rental';
        lc52.Due_Month_Formula__c = '-1';
        lc52.Currency_Code__c = label.Default_Currency;
        lcList.add(lc52);
        
        Lease_Charges__c lc53 = new Lease_Charges__c();
        lc53.Name = 'TestCharge';
        lc53.Active__c = true;
        lc53.Start_Date__c = system.today();
        lc53.End_Date__c = system.today().addYears(1);
        lc53.Lease_Unit__c = lu.Id;
        lc53.Billing_Frequency__c='Monthly';
        lc53.Billing_Days__c = '31';
        lc53.Frequency__c='Half-Yearly';
        lc53.Type__c='Meter Units';
        lc53.Generate_Rent_Schedule__c = true;
        lc53.Charge_Rate__c = 5;
        lc53.Charge_Type__c = 'Generator';
        lc53.Multiple_Rental_Schedule__c = true;
        lc53.Base_Charge_Type__c = 'Advance Rental';
        lc53.Due_Month_Formula__c = '-1';
        lc53.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc53);
        
        Lease_Charges__c lc54 = new Lease_Charges__c();
        lc54.Name = 'TestCharge';
        lc54.Active__c = true;
        lc54.Start_Date__c = system.today();
        lc54.End_Date__c = system.today().addYears(1);
        lc54.Lease_Unit__c = lu.Id;
        lc54.Billing_Frequency__c='Monthly';
        lc54.Billing_Days__c = '31';
        lc54.Frequency__c='Yearly';
        lc54.Type__c='Meter Units';
        lc54.Generate_Rent_Schedule__c = true;
        lc54.Charge_Rate__c = 5;
        lc54.Charge_Type__c = 'Generator';
        lc54.Multiple_Rental_Schedule__c = true;
        lc54.Base_Charge_Type__c = 'Advance Rental';
        lc54.Due_Month_Formula__c = '-1';
        lc54.Currency_Code__c = label.Default_Currency;
        lc54.Frequency__c = 'Quarterly';
        lcList.add(lc54);
        
        Lease_Charges__c lc55 = new Lease_Charges__c();
        lc55.Name = 'TestCharge';
        lc55.Active__c = true;
        lc55.Start_Date__c = system.today();
        lc55.End_Date__c = system.today().addYears(1);
        lc55.Lease_Unit__c = lu.Id;
        lc55.Billing_Frequency__c='Monthly';
        lc55.Billing_Days__c = '31';
        lc55.Frequency__c='Yearly';
        lc55.Type__c='Meter Units';
        lc55.Generate_Rent_Schedule__c = true;
        lc55.Charge_Rate__c = 5;
        lc55.Charge_Type__c = 'Generator';
        lc55.Multiple_Rental_Schedule__c = true;
        lc55.Base_Charge_Type__c = 'Advance Rental';
        lc55.Due_Month_Formula__c = '-1';
        lc55.Currency_Code__c = label.Default_Currency;
        lc55.Billing_Terms__c = 'Prorate';
        lc55.Charge_Start_Day__c = '20';
        lc55.Frequency__c = 'Half-Yearly';
        lcList.add(lc55);
        
        Test.StartTest();
        insert lcList;
        
        unt.Charge_Method__c = 'Daily Rate';
        update unt;
        
        Utility.firstRun = true;
        lc55.Charge_Method__c='Transaction Rate';
        lc55.End_Date__c = system.today().addYears(1)+1;
        update lc55;
        Test.StopTest();
        
    }
    
    Static TestMethod Void Test2(){
        
    
        Property__c prop = new Property__c();
        prop.Name = 'TestProperty';
        insert prop;
        
        Level__c lvl = new Level__c();
        lvl.Name = 'TestLevel';
        lvl.Property__c = prop.Id;
        insert lvl;
        
        Units__c unt = new Units__c();
        unt.Property__c = prop.Id;
        unt.Level__c = lvl.Id;
        unt.Name = 'TestUnit';
        unt.Active__c = true;
        unt.Start_Date__c = system.today();
        unt.End_Date__c = system.today().addYears(2);
        insert unt;
        
        Account acc = new Account();
        acc.Name = 'TestTenant';
        insert acc;
        
        Lease__c ls = new Lease__c();
        ls.Tenant__c = acc.Id;
        ls.Property__c = prop.Id;
        insert ls;
        
        Lease_Unit__c lu = new Lease_Unit__c();
        lu.Lease_Agreement_No__c = ls.Id;
        lu.Unit__c = unt.Id;
        lu.Lease_Start_Date__c = System.Today()+2;
        lu.Lease_End_Date__c = System.Today()+365;
        insert lu;
        
        Lease_Charges__c lc0 = new Lease_Charges__c();
        lc0.Name = 'TestRent';
        lc0.Active__c = true;
        lc0.Start_Date__c = system.today();
        lc0.End_Date__c = system.today().addYears(1);
        lc0.Lease_Unit__c = lu.Id;
        lc0.Billing_Frequency__c='Monthly';
        lc0.Billing_Days__c = '5';
        lc0.Frequency__c='Monthly';
        lc0.Type__c='By Area';
        lc0.Generate_Rent_Schedule__c = true;
        lc0.Charge_Rate__c = 5;
        lc0.Charge_Type__c = 'Advance Rental';
        lc0.Currency_Code__c =label.Default_Currency;
        insert lc0;
        Utility.firstRun = true;
        List<Lease_Charges__c> lcList = new List<Lease_Charges__c>();
        Lease_Charges__c lc = new Lease_Charges__c();
        lc.Name = 'TestCharge';
        lc.Active__c = true;
        lc.Start_Date__c = system.today();
        lc.End_Date__c = system.today().addYears(1);
        lc.Lease_Unit__c = lu.Id;
        lc.Billing_Frequency__c='Monthly';
        lc.Billing_Days__c = '5';
        lc.Frequency__c='One Time';
        lc.Type__c='By Area';
        lc.Generate_Rent_Schedule__c = true;
        lc.Charge_Rate__c = 5;
        lc.Billing_Terms__c = 'Non-prorate';
        lc.Base_Charge_Type__c = 'Advance Rental';
        lc.Due_Month_Formula__c = '-1';
        lc.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc);
        
        Lease_Charges__c lc1 = new Lease_Charges__c();
        lc1.Name = 'TestCharge';
        lc1.Active__c = true;
        lc1.Start_Date__c = system.today();
        lc1.End_Date__c = system.today().addYears(1);
        lc1.Lease_Unit__c = lu.Id;
        lc1.Billing_Frequency__c='Monthly';
        lc1.Frequency__c='Monthly';
        lc1.Billing_Days__c = '5';
        lc1.Type__c='By Area';
        lc1.Generate_Rent_Schedule__c = true;
        lc1.Charge_Rate__c = 5;
        lc1.Billing_Terms__c = 'Non-prorate';
        lc1.Due_Month_Formula__c = '-1';
        lc1.Currency_Code__c = label.Default_Currency;
        lcList.add(lc1);
        
        Lease_Charges__c lc2 = new Lease_Charges__c();
        lc2.Name = 'TestCharge';
        lc2.Active__c = true;
        lc2.Start_Date__c = system.today();
        lc2.End_Date__c = system.today().addYears(1);
        lc2.Lease_Unit__c = lu.Id;
        lc2.Billing_Frequency__c='Monthly';
        lc2.Frequency__c='Quarterly';
        lc2.Billing_Days__c = '5';
        lc2.Type__c='By Area';
        lc2.Generate_Rent_Schedule__c = true;
        lc2.Charge_Rate__c = 5;
        lc2.Billing_Terms__c = 'Non-prorate';
        lc2.Due_Month_Formula__c = '-1';
        lc2.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc2);
        
        Lease_Charges__c lc3 = new Lease_Charges__c();
        lc3.Name = 'TestCharge';
        lc3.Active__c = true;
        lc3.Start_Date__c = system.today();
        lc3.End_Date__c = system.today().addYears(1);
        lc3.Lease_Unit__c = lu.Id;
        lc3.Billing_Frequency__c='Monthly';
        lc3.Frequency__c='Yearly';
        lc3.Billing_Days__c = '5';
        lc3.Type__c='By Area';
        lc3.Generate_Rent_Schedule__c = true;
        lc3.Charge_Rate__c = 5;
        lc3.Base_Charge_Type__c = 'Advance Rental';
        lc3.Due_Month_Formula__c = '-1';
        lc3.Currency_Code__c = label.Default_Currency;
        lcList.add(lc3);
        
        Lease_Charges__c lc4 = new Lease_Charges__c();
        lc4.Name = 'TestCharge';
        lc4.Active__c = true;
        lc4.Start_Date__c = system.today();
        lc4.End_Date__c = system.today().addYears(1);
        lc4.Lease_Unit__c = lu.Id;
        lc4.Billing_Frequency__c='Monthly';
        lc4.Frequency__c='Half-Yearly';
        lc4.Billing_Days__c = '5';
        lc4.Type__c='By Area';
        lc4.Generate_Rent_Schedule__c = true;
        lc4.Charge_Rate__c = 5;
        lc4.Base_Charge_Type__c = 'Advance Rental';
        lc4.Due_Month_Formula__c = '-1';
        lc4.Currency_Code__c = label.Base_Foreign_Currency;
        lcList.add(lc4);
        
        Lease_Charges__c lc5 = new Lease_Charges__c();
        lc5.Name = 'TestCharge';
        lc5.Active__c = true;
        lc5.Start_Date__c = system.today();
        lc5.End_Date__c = system.today().addYears(1);
        lc5.Lease_Unit__c = lu.Id;
        lc5.Billing_Frequency__c='Monthly';
        lc5.Frequency__c='Yearly';
        lc5.Billing_Days__c = '5';
        lc5.Type__c='By Area';
        lc5.Generate_Rent_Schedule__c = true;
        lc5.Charge_Rate__c = 5;
        lc5.Base_Charge_Type__c = 'Advance Rental';
        lc5.Due_Month_Formula__c = '-1';
        lc5.Currency_Code__c = label.Base_Foreign_Currency;
        lc5.Billing_Terms__c = 'Prorate';
        lc5.Charge_Start_Day__c = '15';
        lcList.add(lc5);
        
        Lease_Charges__c lc6 = new Lease_Charges__c();
        lc6.Name = 'TestCharge';
        lc6.Active__c = true;
        lc6.Start_Date__c = system.today();
        lc6.End_Date__c = system.today().addYears(1);
        lc6.Lease_Unit__c = lu.Id;
        lc6.Billing_Frequency__c='Monthly';
        lc6.Frequency__c='Half-Yearly';
        lc6.Billing_Days__c = '5';
        lc6.Type__c='By Area';
        lc6.Generate_Rent_Schedule__c = true;
        lc6.Charge_Rate__c = 5;
        lc6.Base_Charge_Type__c = 'Advance Rental';
        lc6.Due_Month_Formula__c = '-1';
        lc6.Currency_Code__c = label.Base_Foreign_Currency;
        lc6.Billing_Terms__c = 'Prorate';
        lc6.Charge_Start_Day__c = '15';
        lcList.add(lc6);
        
        Lease_Charges__c lc7 = new Lease_Charges__c();
        lc7.Name = 'TestCharge';
        lc7.Active__c = true;
        lc7.Start_Date__c = system.today();
        lc7.End_Date__c = system.today().addYears(1);
        lc7.Lease_Unit__c = lu.Id;
        lc7.Billing_Frequency__c='Monthly';
        lc7.Frequency__c='Quarterly';
        lc7.Billing_Days__c = '5';
        lc7.Type__c='By Area';
        lc7.Generate_Rent_Schedule__c = true;
        lc7.Charge_Rate__c = 5;
        lc7.Base_Charge_Type__c = 'Advance Rental';
        lc7.Due_Month_Formula__c = '-1';
        lc7.Currency_Code__c = label.Base_Foreign_Currency;
        lc7.Billing_Terms__c = 'Prorate';
        lc7.Charge_Start_Day__c = '15';
        lcList.add(lc7);
        
        test.startTest();
        insert lcList;
        test.stopTest();
    }
}